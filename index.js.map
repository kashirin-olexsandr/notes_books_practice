{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/local-storage-api.js","../src/js/markup-tasks.js","../src/js/render-tasks.js","../src/main.js"],"sourcesContent":["export default {\n  formEl: document.querySelector('#task-form'),\n  taskListEl: document.querySelector('#task-list'),\n  themeToggleBtn: document.querySelector('#themeToggle'),\n};\n","const STORAGE_KEY = 'tasks';\n\nconst getTasks = () => {\n  const data = localStorage.getItem(STORAGE_KEY);\n  if (data) {\n    return JSON.parse(data);\n  } else {\n    return [];\n  }\n};\n\nconst addTasks = data => {\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(data));\n};\n\nexport default {\n  getTasks,\n  addTasks,\n};\n","export function createMarkupTask({ taskName, taskDescription, id }) {\n  return `\n  <li class=\"task-list-item\" data-id=\"${id}\">\n      <button class=\"task-list-item-btn\">Delete</button>\n      <h3>${taskName}</h3>\n      <p>${taskDescription}</p>\n  </li>`;\n}\n\nexport function createMarkupList(arr) {\n  return arr.map(createMarkupTask).join('');\n}\n","import refs from './refs';\n\nexport function renderTasks(markup) {\n  refs.taskListEl.insertAdjacentHTML('beforeend', markup);\n}\n","import { nanoid } from 'nanoid';\n\nimport refs from './js/refs';\nimport localStorageApi from './js/local-storage-api';\nimport { createMarkupTask, createMarkupList } from './js/markup-tasks';\nimport { renderTasks } from './js/render-tasks';\n/*\n  <li class=\"task-list-item\">\n      <button class=\"task-list-item-btn\">Delete</button>\n      <h3>Заголовок</h3>\n      <p>Текст</p>\n  </li>\n*/\n\nlet arrTasks = localStorageApi.getTasks();\n// let arrTasks = JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];\n\nrenderTasks(createMarkupList(arrTasks));\n\nrefs.formEl.addEventListener('submit', onFormSubmit);\nrefs.taskListEl.addEventListener('click', deleteTask);\n\nfunction onFormSubmit(event) {\n  event.preventDefault();\n\n  const taskName = event.currentTarget.elements.taskName.value.trim();\n  const taskDescription =\n    event.currentTarget.elements.taskDescription.value.trim();\n\n  const newTask = {\n    taskName,\n    taskDescription,\n    id: nanoid(),\n  };\n\n  arrTasks.push(newTask);\n  localStorageApi.addTasks(arrTasks);\n\n  const markup = createMarkupTask(newTask);\n  renderTasks(markup);\n}\n\nfunction deleteTask(event) {\n  if (event.target.nodeName !== 'BUTTON') {\n    return;\n  }\n\n  const id = event.target.closest('[data-id]').dataset.id;\n  arrTasks = arrTasks.filter(task => task.id !== id);\n  localStorageApi.addTasks(arrTasks);\n  refs.taskListEl.innerHTML = '';\n  renderTasks(createMarkupList(arrTasks));\n\n  console.log(arrTasks);\n}\n"],"names":["refs","STORAGE_KEY","getTasks","data","addTasks","localStorageApi","createMarkupTask","taskName","taskDescription","id","createMarkupList","arr","renderTasks","markup","arrTasks","onFormSubmit","deleteTask","event","newTask","nanoid","task"],"mappings":"svBAAA,MAAeA,EAAA,CACb,OAAQ,SAAS,cAAc,YAAY,EAC3C,WAAY,SAAS,cAAc,YAAY,EAC/C,eAAgB,SAAS,cAAc,cAAc,CACvD,ECJMC,EAAc,QAEdC,EAAW,IAAM,CACrB,MAAMC,EAAO,aAAa,QAAQF,CAAW,EAC7C,OAAIE,EACK,KAAK,MAAMA,CAAI,EAEf,EAEX,EAEMC,EAAWD,GAAQ,CACvB,aAAa,QAAQF,EAAa,KAAK,UAAUE,CAAI,CAAC,CACxD,EAEeE,EAAA,CACb,SAAAH,EACA,SAAAE,CACF,EClBO,SAASE,EAAiB,CAAE,SAAAC,EAAU,gBAAAC,EAAiB,GAAAC,CAAE,EAAI,CAClE,MAAO;AAAA,wCAC+BA,CAAE;AAAA;AAAA,YAE9BF,CAAQ;AAAA,WACTC,CAAe;AAAA,QAE1B,CAEO,SAASE,EAAiBC,EAAK,CACpC,OAAOA,EAAI,IAAIL,CAAgB,EAAE,KAAK,EAAE,CAC1C,CCTO,SAASM,EAAYC,EAAQ,CAClCb,EAAK,WAAW,mBAAmB,YAAaa,CAAM,CACxD,CCUA,IAAIC,EAAWT,EAAgB,WAG/BO,EAAYF,EAAiBI,CAAQ,CAAC,EAEtCd,EAAK,OAAO,iBAAiB,SAAUe,CAAY,EACnDf,EAAK,WAAW,iBAAiB,QAASgB,CAAU,EAEpD,SAASD,EAAaE,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAMV,EAAWU,EAAM,cAAc,SAAS,SAAS,MAAM,OACvDT,EACJS,EAAM,cAAc,SAAS,gBAAgB,MAAM,KAAI,EAEnDC,EAAU,CACd,SAAAX,EACA,gBAAAC,EACA,GAAIW,EAAQ,CAChB,EAEEL,EAAS,KAAKI,CAAO,EACrBb,EAAgB,SAASS,CAAQ,EAEjC,MAAMD,EAASP,EAAiBY,CAAO,EACvCN,EAAYC,CAAM,CACpB,CAEA,SAASG,EAAWC,EAAO,CACzB,GAAIA,EAAM,OAAO,WAAa,SAC5B,OAGF,MAAMR,EAAKQ,EAAM,OAAO,QAAQ,WAAW,EAAE,QAAQ,GACrDH,EAAWA,EAAS,OAAOM,GAAQA,EAAK,KAAOX,CAAE,EACjDJ,EAAgB,SAASS,CAAQ,EACjCd,EAAK,WAAW,UAAY,GAC5BY,EAAYF,EAAiBI,CAAQ,CAAC,EAEtC,QAAQ,IAAIA,CAAQ,CACtB"}